This package allows you to create [https://github.com/standard-schema/standard-schema](Standard Schema) compliant Schemas for GraphQL operation responses.

E.g.

```ts
import { GraphQLStandardSchemaGenerator } from "@apollo/graphql-standard-schema";

const generator = new GraphQLStandardSchemaGenerator({
  schema: gql`
    type Query {
      hello: String
    }
  `,
});
// or
const generator = new GraphQLStandardSchemaGenerator({
  schema: new GraphQLSchema({ ... } ),
});

// create a "response" schema that will validate the result of a GraphQL operation
const responseSchema = generator.getResponseSchema(gql`
  query GetHello {
    hello
  }
`);

// valid
const result = validateInput(responseSchema, {
  data: {
    hello: "world",
  },
});

// valid
const result = validateInput(responseSchema, {
  errors: [{ message: "Something went wrong" }],
});

// will throw a validation error - `hello` must be a string
const result = validateInput(responseSchema, {
  data: {
    hello: 1,
  },
});

// or create a "data schema" that will validate the `data` field of a GraphQL operation result
const dataSchema = generator.getDataSchema(gql`
  query GetHello {
    hello
  }
`);

// valid
const result = validateInput(dataSchema, {
  hello: "world",
});
// will throw a validation error - `hello` must be a string
const result = validateInput(dataSchema, {
  hello: 1,
});
```

with `validateInput` being a standard schema validation function, like

```ts
import type { StandardSchemaV1 } from "@standard-schema/spec";

function validateInput(schema: StandardSchemaV1, data: unknown) {
  const result = schema["~standard"].validate(data);
  if (result instanceof Promise) {
    throw new TypeError("Schema validation must be synchronous");
  }
  if (result.issues) {
    throw new Error(JSON.stringify(result.issues, null, 2));
  }

  return result.value;
}
```

## Usage with the `ai` package

Schemas generated by `"@apollo/graphql-standard-schema"` support the `StandardJSONSchemaSourceV1` interface, so long-term you will be able to use it directly with the `ai` package.

As for now, you will still need to manually call `schema["~standard"].toJSONSchema({ io: "input", target: "draft-2020-12"})` to convert it to a JSON Schema that the `ai` package can use.
