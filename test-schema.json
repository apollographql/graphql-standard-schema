{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "description": "A query that fetches users and does a search",
  "type": "object",
  "title": "query GetUsers",
  "properties": {
    "__typename": {
      "const": "Query"
    },
    "users": {
      "title": "Query.users: [User]",
      "type": [
        "array",
        "null"
      ],
      "items": {
        "$ref": "#/$defs/User",
        "type": [
          "object",
          "null"
        ],
        "title": "User",
        "properties": {
          "__typename": {
            "const": "User"
          },
          "id": {
            "title": "User.id: Int!",
            "type": "integer"
          },
          "name": {
            "title": "User.name: String!",
            "type": "string"
          },
          "role": {
            "title": "User.role: Role",
            "$ref": "#/$defs/enum_maybe_Role"
          },
          "birthDate": {
            "title": "User.birthDate: Date",
            "$ref": "#/$defs/Date",
            "type": [
              "string",
              "null"
            ],
            "pattern": "^\\d\\d\\d\\d-\\d\\d-\\d\\d$"
          },
          "favourites": {
            "title": "User.favourites: [Favourite!]!",
            "type": "array",
            "items": {
              "$ref": "#/$defs/Favourite",
              "anyOf": [
                {
                  "$ref": "#/$defs/Book",
                  "type": "object",
                  "title": "Book",
                  "properties": {
                    "__typename": {
                      "const": "Book"
                    },
                    "name": {
                      "title": "Book.name: String!",
                      "type": "string"
                    },
                    "author": {
                      "title": "Book.author: String!",
                      "type": "string"
                    }
                  },
                  "required": [
                    "__typename",
                    "name",
                    "author"
                  ],
                  "additionalProperties": false
                }
              ]
            }
          }
        },
        "required": [
          "__typename",
          "id",
          "name",
          "role",
          "birthDate",
          "favourites"
        ],
        "additionalProperties": false
      }
    },
    "search": {
      "title": "Query.search: [SearchResult!]!",
      "type": "array",
      "items": {
        "$ref": "#/$defs/SearchResult",
        "anyOf": [
          {
            "$ref": "#/$defs/User",
            "type": "object",
            "title": "User",
            "properties": {
              "__typename": {
                "const": "User"
              },
              "name": {
                "title": "User.name: String!",
                "type": "string"
              }
            },
            "required": [
              "__typename",
              "name"
            ],
            "additionalProperties": false
          },
          {
            "$ref": "#/$defs/Book",
            "type": "object",
            "title": "Book",
            "properties": {
              "__typename": {
                "const": "Book"
              },
              "id": {
                "title": "Book.id: ID!",
                "type": "string"
              },
              "name": {
                "title": "Book.name: String!",
                "type": "string"
              },
              "author": {
                "title": "Book.author: String!",
                "type": "string"
              }
            },
            "required": [
              "__typename",
              "id",
              "name",
              "author"
            ],
            "additionalProperties": false
          },
          {
            "$ref": "#/$defs/Color",
            "type": "object",
            "title": "Color",
            "properties": {
              "__typename": {
                "const": "Color"
              },
              "name": {
                "title": "Color.name: String!",
                "type": "string"
              },
              "hex": {
                "title": "Color.hex: String!",
                "type": "string"
              }
            },
            "required": [
              "__typename",
              "name",
              "hex"
            ],
            "additionalProperties": false
          }
        ]
      }
    }
  },
  "required": [
    "__typename",
    "users",
    "search"
  ],
  "additionalProperties": false,
  "$defs": {
    "enum_maybe_Role": {
      "title": "Role",
      "description": "System user roles",
      "enum": [
        null,
        "ADMIN",
        "USER",
        "GUEST"
      ]
    },
    "Date": {
      "description": "A custom date scalar in YYYY-MM-DD format"
    },
    "Book": {
      "description": "A book"
    },
    "Favourite": {
      "description": "Describes something that can be a 'favourite thing or concept'"
    },
    "User": {
      "description": "The user type"
    },
    "Color": {
      "description": "A color"
    },
    "SearchResult": {
      "description": "A possible search result for the Omnibar"
    }
  }
}